## 10. Respaldos y Restauraciones

### 10.1 Copias de Seguridad Manuales

Las copias de seguridad manuales permiten resguardar información crítica antes de realizar actualizaciones o cambios en la configuración.

#### Ejemplo con tar

```bash
tar -czf backup_etc_$(date +%F).tar.gz /etc
```

**Explicación:** crea un archivo comprimido con todo el contenido del directorio `/etc`, nombrado con la fecha actual.

#### Ejemplo con rsync

```bash
rsync -av /home /mnt/backup/
```

**Uso:** copia incremental que sincroniza el contenido de `/home` hacia `/mnt/backup`, conservando permisos y estructura.

---

### 10.2 Respaldos Automatizados con Cron

Permite ejecutar tareas de respaldo automáticamente a horas programadas.

#### Crear tarea programada

```bash
crontab -e
```

Agregar la línea:

```
0 3 * * * /usr/bin/rsync -a /home /mnt/backup/home
```

**Significado:** todos los días a las 3:00 AM ejecuta el respaldo de `/home`.

#### Ver tareas programadas

```bash
crontab -l
```

---

### 10.3 Restauraciones

Para recuperar un respaldo de configuración o datos:

#### Restaurar con tar

```bash
tar -xzf backup_etc_2025-10-11.tar.gz -C /
```

**Descripción:** descomprime el respaldo del directorio `/etc` directamente en su ubicación original.

#### Restaurar con rsync

```bash
rsync -av /mnt/backup/home/ /home/
```

**Finalidad:** sincroniza el contenido de la copia de seguridad hacia su ubicación original.
